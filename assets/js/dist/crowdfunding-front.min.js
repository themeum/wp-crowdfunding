jQuery(document).ready(function(e){var a,n,t=0,o=e(".wpneo-block").length;function i(a,n=!1){var t='<div class="wpneo-modal-wrapper"> <div class="wpneo-modal-content"> <div class="wpneo-modal-wrapper-head"><span id="wpcf_modal_title">Message</span><a href="javascript:;" class="wpneo-modal-close">&times;</a>';return n&&(t+='</div><span class="wpcf-print-button button wpneo-edit-btn">print</span>'),t+='<div class="wpneo-modal-content-inner"><div id="wpcf_modal_message"></div></div></div></div>',0==e(".wpneo-modal-wrapper").length&&(e("body").append(t),a.redirect&&0==e("#wpneo_crowdfunding_redirect_url").length&&e("body").append('<input type="hidden" id="wpneo_crowdfunding_redirect_url" value="'+a.redirect+'" />')),1==a.success?(a.message&&e(".wpneo-modal-wrapper #wpcf_modal_message").html(a.message),a.title&&e(".wpneo-modal-wrapper #wpcf_modal_title").html(a.title),e(".wpneo-modal-wrapper").css({display:"block"}),e("#wpneofrontenddata").length>0&&e("#wpneofrontenddata")[0].reset(),!0):(e(".wpneo-modal-wrapper #wpcf_modal_message").html(a.message),e(".wpneo-modal-wrapper").css({display:"block"}),!1)}function c(a){e(a).length>1?e(a).show():(e(a).hide(),".removeCampaignRewards"==a&&e(".reward_group").show(),".removecampaignupdate"==a&&e("#campaign_update_field").show()),e(a).first().hide()}function r(){var a,n=e("#wpneo-dashboard-form").serializeArray();return e.ajax({async:!1,url:wpcf_ajax_object.ajax_url,type:"POST",data:n,success:function(e,n,t){i(e),a=e},error:function(e,a,n){i({success:0,message:"Error sending data"})}}),e(".wpneo-content input,.wpneo-content textarea,.wpneo-content select").attr("disabled","disabled").css("border","none"),e(".wpneo-cancel-btn").hide(),e("#wpneo-edit").delay(100).fadeIn("slow"),a}0!=o&&(t=o),e.fn.createNewForm=function(a){return this.each(function(){e(this).find("input,textarea,select").each(function(){var n=e(this);n.attr("name",this.name.replace(/\d/,a)),n.val("")})})},e(".add-new").on("click",function(a){var n=e(".wpneo-block").last().clone();n.createNewForm(t),e("#wpneo-clone .add-new").before(e(n)),t+=1}),e(document).on("click",".remove-button",function(a){e(".wpneo-block").length>1&&e(this).parent(".wpneo-block").remove()}),e("#wpneo_form_start_date, #wpneo_form_end_date, .update-datepicker").datepicker({dateFormat:"dd-mm-yy"}),e(".wpneo_donate_button").on("click",function(a){e(".wpneo_donate_amount_field").val()?e(".wpneo-tooltip-empty").css({visibility:"hidden"}):(a.preventDefault(),e(".wpneo-tooltip-empty").css({visibility:"visible"}))}),e(".crowdfound-pie-chart").easyPieChart({barColor:"var(--wpcf-primary-color)",trackColor:"#f5f5f5",scaleColor:!1,lineWidth:5}),e(".datepickers_1").datepicker({dateFormat:"yy-mm-dd"}),e(".datepickers_2").datepicker({dateFormat:"yy-mm-dd"}),e("#wpneofrontenddata").submit(function(){tinyMCE.triggerSave();var a=e(this).serialize();return e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:a,success:function(a){JSON.parse(a).success||"undefined"!=typeof grecaptcha&&0!==e(".g-recaptcha").length&&grecaptcha.reset(),i(a)},error:function(e,a,n){i({success:0,message:"Error sending data"})}}),!1}),e(document).on("click",".wpcf-print-button",function(e){window.print()}),window.wpcf_modal=i,a=".wpneo-upload-image-gallery",e("body").on("click",a,function(a){a.preventDefault();var t=e(".gallery-image-ids"),o=e(".gallery-image-id-show");n?n.open():((n=wp.media.frames.file_frame=wp.media({title:e(this).data("uploader_title"),button:{text:e(this).data("uploader_button_text")},multiple:!0})).on("select",function(){var e=[];attachments=n.state().get("selection").toJSON(),t.val(""),o.val(""),attachments.forEach(function(a){e.push(a.id)}),t.val(e),o.val(e)}),n.open())}),function(a){var n=!0,t=wp.media.editor.send.attachment;e("body").on("click",a,function(a){var o="#"+e(this).attr("id"),i=e(o);return n=!0,wp.media.editor.send.attachment=function(a,i){if(!n)return t.apply(o,[a,i]);var c=i.url;e(".wpneo-form-image-url").val(c),e(".wpneo-form-image-id").val(i.id)},wp.media.editor.open(i),!1})}(".wpneo-image-upload"),e(document).on("click",".add_media",function(){_custom_media=!1}),e(".wpneoShowLogin").on("click",function(a){a.preventDefault(),e(".wpneo_login_form_div").slideToggle()}),e("#addreward").on("click",function(a){a.preventDefault();var n=e(".reward_group").html();e("#rewards_addon_fields").append(n).hide().show("slow"),e("#rewards_addon_fields .campaign_rewards_field_copy:last-child").find("input,textarea,select").each(function(){"remove_rewards"!=e(this).attr("name")&&"button"!=e(this).attr("type")&&e(this).val("")}),c(".removeCampaignRewards")}),e("body").on("click",".removeCampaignRewards",function(a){a.preventDefault();const n=e(this).closest("#reward_options").offset().top;e(this).closest(".campaign_rewards_field_copy").html(""),e("html, body").animate({scrollTop:n-100},100),c(".removeCampaignRewards")}),c(".removeCampaignRewards"),e("#addcampaignupdate").on("click",function(a){a.preventDefault();var n=e("#campaign_update_field").html();e("#campaign_update_addon_field").append(n),c(".removecampaignupdate")}),e("body").on("click",".removecampaignupdate",function(a){a.preventDefault(),e(this).closest(".campaign_update_field_copy").html("").hide(),c(".removecampaignupdate")}),c(".removecampaignupdate"),e("#wpneo_active_edit_form").on("click",function(a){a.preventDefault(),e("#wpneo_update_display_wrapper").hide(),e("#wpneo_update_form_wrapper").fadeIn("slow")}),e("#wpneo-edit").on("click",function(a){a.preventDefault(),e("#wpneo-edit").hide(),e(".wpneo-content input,.wpneo-content textarea,.wpneo-content select").not('.wpneo-content input[name="username"]').removeAttr("disabled").css("border","1px solid #dfe1e5"),e(".wpneo-save-btn").delay(100).fadeIn("slow"),e(".wpneo-cancel-btn").delay(100).fadeIn("slow"),e("button.wpneo-image-upload").show()}),e(".wpneo-cancel-btn").on("click",function(a){a.preventDefault(),e(".wpneo-content input,.wpneo-content textarea,.wpneo-content select").attr("disabled","disabled").css("border","none"),e(".wpneo-cancel-btn").hide(),e("#wpneo-dashboard-save").hide(),e("#wpneo-profile-save").hide(),e("#wpneo-contact-save").hide(),e("button.wpneo-image-upload").hide(),e("#wpneo-edit").delay(100).fadeIn("slow")}),e("#wpneo-dashboard-save").on("click",function(a){a.preventDefault();e("#wpneo-dashboard-form").serializeArray();r()}),e("#wpneo-profile-save").on("click",function(e){e.preventDefault(),r()}),e("#wpneo-contact-save").on("click",function(e){e.preventDefault(),r()}),e("#wpneo-password-save").on("click",function(e){e.preventDefault(),r()}),e("#wpneo-update-save").on("click",function(e){e.preventDefault(),i(r())}),e(".wpneo-tabs-menu a").on("click",function(a){a.preventDefault(),e(".wpneo-tabs-menu li").removeClass("wpneo-current"),e(this).parent().addClass("wpneo-current");var n=e(this).attr("href");return e(".wpneo-tab-content").hide(),e(n).fadeIn(),!1}),e(e(".wpneo-current a").attr("href")).fadeIn(),e(".wpneo-fund-modal-btn").on("click",function(a){a.preventDefault();var n=e(this).data("author");e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:{action:"wpcf_bio_action",author:n,nonce:wpcf_ajax_object.nonce},success:function(e){i(e)},error:function(e,a,n){i({success:0,message:"Error"})}})}),e(document).on("click",".wpneo-modal-close",function(){e(".wpneo-modal-wrapper").css({display:"none"}),e("#wpneo_crowdfunding_redirect_url").length>0&&(location.href=e("#wpneo_crowdfunding_redirect_url").val())}),e('input[name="wpneo_donate_amount_field"]').on("blur change paste",function(){var a=e(this).val(),n=e(this).data("min-price"),t=e(this).data("max-price");a<n?n&&(e(this).val(n),e(".wpneo-tooltip-min").css({visibility:"visible"})):t<a?t&&(e(this).val(t),e(".wpneo-tooltip-max").css({visibility:"visible"})):e(".wpneo-tooltip-min,.wpneo-tooltip-max").css({visibility:"hidden"})}),e(document).on("click","#love_this_campaign",function(){var a=e(this).data("campaign-id");e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:{action:"love_campaign_action",campaign_id:a,nonce:wpcf_ajax_object.nonce},success:function(a){data=JSON.parse(a),1==data.success?e("#campaign_loved_html").html(data.return_html):0==data.success?i({success:0,message:data.message}):i({success:0,message:"Something went wrong!"})},error:function(e,a,n){i({success:0,message:"Error happened!"})}})}),e(document).on("click","#remove_from_love_campaign",function(){var a=e(this).data("campaign-id");e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:{action:"remove_love_campaign_action",campaign_id:a,nonce:wpcf_ajax_object.nonce},success:function(a){data=JSON.parse(a),1==data.success?e("#campaign_loved_html").html(data.return_html):0==data.success?i({success:0,message:data.message}):i({success:0,message:"Something went wrong!"})},error:function(e,a,n){i({success:0,message:"Error happened!"})}})}),e(document).on("click","#user-registration-btn",function(a){a.preventDefault();var n=e(this).closest("form").serialize();e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:n,success:function(e){i(e),(e=JSON.parse(e)).success?location.href=e.redirect:"undefined"!=typeof grecaptcha&&grecaptcha.reset()},error:function(e,a,n){i({success:0,message:"Error"})}})});var d=e("input[name=wpneo-form-image-url]").val();""!=d&&e("#wpneo-image-show").html('<img width="150" src="'+d+'" />'),e(document).on("click",".media-button-insert",function(a){var n=e("input[name=wpneo-form-image-url]").val();e(".profile-form-img").length>0?e(".profile-form-img").attr("src",n):""!=n&&e("#wpneo-image-show").html('<img width="150" src="'+n+'" />')}),e("body.woocommerce-checkout").length>=1&&e("#billing_email").length<1&&e("#customer_details").css({display:"none"}),e("body").on("click",".wpneo-image-upload-btn",function(a){a.preventDefault();var n=e(this),t=wp.media({title:"Upload Image",multiple:!1}).open().on("select",function(a){var o=t.state().get("selection").first(),i=o.toJSON().url;o=o.toJSON().id,e(n).parent().find(".wpneo_rewards_image_field").val(o),e(n).parent().find(".wpneo_rewards_image_field_url").val(i)})}),e("body").on("click",".wpneo-image-remove",function(a){var n=e(this);e(n).parent().find("wpneo_rewards_image_field_url").val(""),e(n).parent().find(".wpneo_rewards_image_field").val("")}),e("body").on("click",".price-value-change",function(a){a.preventDefault();var n=e(this).data("reward-amount");e("html, body").animate({scrollTop:0},600,function(){setTimeout(function(){e(".wpneo_donate_amount_field").addClass("wpneosplash")},100),setTimeout(function(){e(".wpneo_donate_amount_field").val(n),e(".wpneo_donate_amount_field").removeClass("wpneosplash")},1e3)})}),e(document).on("click","table.reward_table_dashboard tr",function(a){e(this).find(".reward_description").slideToggle()}),e(document).on("click",".wpcf-order-view",function(a){a.preventDefault();var n=e(this).data("orderid");e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:{action:"wpcf_order_action",orderid:n,nonce:wpcf_ajax_object.nonce},success:function(e){i(e,!0)},error:function(e,a,n){i({success:0,message:"Error"})}})}),e(document).on("click",".wpneo-icon-embed",function(a){a.preventDefault();var n=e(this).data("postid");e.ajax({type:"POST",url:wpcf_ajax_object.ajax_url,data:{action:"wpcf_embed_action",postid:n,nonce:wpcf_ajax_object.nonce},success:function(e){i(e)},error:function(e,a,n){i({success:0,message:"Error"})}})}),e(document).on("click","ul.wpcf_predefined_pledge_amount li a",function(){var a=e(this).attr("data-predefined-price");e(".wpneo_donate_amount_field").val(a)}),e('select[name="wpneo-form-type"]').on("change",function(){"never_end"==e(this).val()?(e("#wpneo_form_start_date").parents(".wpneo-single").hide(),e("#wpneo_form_end_date").parents(".wpneo-single").hide()):(e("#wpneo_form_start_date").parents(".wpneo-single").show(),e("#wpneo_form_end_date").parents(".wpneo-single").show())}),e(".cloud-zoom").magnificPopup({type:"image",mainClass:"product-img-zoomin",gallery:{enabled:!0},zoom:{enabled:!0,duration:400,easing:"ease-in-out",opener:function(e){return e.is("img")?e:e.find("img")}}})});